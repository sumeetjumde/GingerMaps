{"ast":null,"code":"import { withHandlers, onWillReceiveProps, onDidUpdate, isolate, integrate } from \"reassemble\";\nexport var preventPhantomEvents = isolate(withHandlers(function () {\n  var lastTriggerTime;\n  var lastTriggerTimePerformance;\n  var timeUpdateRequested = false;\n  return {\n    requestTimeUpdate: function () {\n      return function () {\n        timeUpdateRequested = true;\n      };\n    },\n    handleTimeUpdateRequest: function () {\n      return function () {\n        if (timeUpdateRequested) {\n          lastTriggerTime = Date.now();\n          if (typeof performance !== \"undefined\" && typeof performance.now !== \"undefined\") {\n            lastTriggerTimePerformance = performance.now();\n          }\n          timeUpdateRequested = false;\n        }\n      };\n    },\n    onTransitionEnd: function (_a) {\n      var onTransitionEnd = _a.onTransitionEnd;\n      return function (e) {\n        if (!onTransitionEnd) {\n          return;\n        }\n        if (e.target !== e.currentTarget) {\n          onTransitionEnd(e);\n          return;\n        }\n        // Skip transitionEnd that comes <= 10ms after (reversing) a transition.\n        // In most cases this came from the previous transition.\n        var compareWith = lastTriggerTime;\n        if (e.timeStamp < 1000000000000 && lastTriggerTimePerformance) {\n          compareWith = lastTriggerTimePerformance;\n        }\n        if (e.timeStamp - compareWith <= 10) {\n          return;\n        }\n        onTransitionEnd(e);\n      };\n    }\n  };\n}), onWillReceiveProps(function (_a, _b) {\n  var active = _a.active;\n  var nextActive = _b.active,\n    requestTimeUpdate = _b.requestTimeUpdate;\n  if (active !== nextActive) {\n    requestTimeUpdate();\n  }\n}), onDidUpdate(function (_a) {\n  var handleTimeUpdateRequest = _a.handleTimeUpdateRequest;\n  return handleTimeUpdateRequest();\n}), integrate(\"onTransitionEnd\"));","map":{"version":3,"names":["withHandlers","onWillReceiveProps","onDidUpdate","isolate","integrate","preventPhantomEvents","lastTriggerTime","lastTriggerTimePerformance","timeUpdateRequested","requestTimeUpdate","handleTimeUpdateRequest","Date","now","performance","onTransitionEnd","_a","e","target","currentTarget","compareWith","timeStamp","_b","active","nextActive"],"sources":["/Users/sumeetpravinjumde/Documents/Work/Coding/Ginger/Frontend/node_modules/react-css-transition/lib/composables/composables/preventPhantomEvents.tsx"],"sourcesContent":["import { EventHandler, TransitionEvent } from \"react\";\nimport { withHandlers, onWillReceiveProps, onDidUpdate, isolate, integrate } from \"reassemble\";\n\nimport { CSSTransitionProps } from \"../csstransition\";\n\ntype PropsOut = {\n  requestTimeUpdate?: () => void;\n  handleTimeUpdateRequest?: () => void;\n  onTransitionEnd?: EventHandler<TransitionEvent<any>>;\n};\n\ntype PropsUnion = CSSTransitionProps & PropsOut;\n\nexport const preventPhantomEvents = isolate(\n  withHandlers<PropsUnion, PropsOut>(\n    () => {\n      let lastTriggerTime: any;\n      let lastTriggerTimePerformance: any;\n      let timeUpdateRequested = false;\n      return {\n        requestTimeUpdate: () => () => {\n          timeUpdateRequested = true;\n        },\n        handleTimeUpdateRequest: () => () => {\n          if (timeUpdateRequested) {\n            lastTriggerTime = Date.now();\n            if (typeof performance !== \"undefined\" &&\n              typeof performance.now !== \"undefined\") {\n              lastTriggerTimePerformance = performance.now();\n            }\n            timeUpdateRequested = false;\n          }\n        },\n        onTransitionEnd: ({onTransitionEnd}) => (e: TransitionEvent<any>) => {\n          if (!onTransitionEnd) { return; }\n\n          if (e.target !== e.currentTarget) {\n            onTransitionEnd(e);\n            return;\n          }\n\n          // Skip transitionEnd that comes <= 10ms after (reversing) a transition.\n          // In most cases this came from the previous transition.\n          let compareWith = lastTriggerTime;\n          if ((e.timeStamp as any) < 1000000000000 && lastTriggerTimePerformance) {\n            compareWith = lastTriggerTimePerformance;\n          }\n          if ((e.timeStamp as any) - compareWith <= 10) {\n            return;\n          }\n\n          onTransitionEnd(e);\n        },\n      };\n    }),\n  onWillReceiveProps<PropsUnion>(\n    ({active}, {active: nextActive, requestTimeUpdate}) => {\n      if (active !== nextActive) {\n        requestTimeUpdate();\n      }\n    }),\n  onDidUpdate<PropsUnion>(\n    ({handleTimeUpdateRequest}) => handleTimeUpdateRequest(),\n  ),\n  integrate<keyof PropsUnion>(\n    \"onTransitionEnd\",\n  ),\n);\n"],"mappings":"AACA,SAASA,YAAY,EAAEC,kBAAkB,EAAEC,WAAW,EAAEC,OAAO,EAAEC,SAAS,QAAQ,YAAY;AAY9F,OAAO,IAAMC,oBAAoB,GAAGF,OAAO,CACzCH,YAAY,CACV;EACE,IAAIM,eAAoB;EACxB,IAAIC,0BAA+B;EACnC,IAAIC,mBAAmB,GAAG,KAAK;EAC/B,OAAO;IACLC,iBAAiB,EAAE,SAAAA,CAAA;MAAM;QACvBD,mBAAmB,GAAG,IAAI;MAC5B,CAAC;IAFwB,CAExB;IACDE,uBAAuB,EAAE,SAAAA,CAAA;MAAM;QAC7B,IAAIF,mBAAmB,EAAE;UACvBF,eAAe,GAAGK,IAAI,CAACC,GAAG,EAAE;UAC5B,IAAI,OAAOC,WAAW,KAAK,WAAW,IACpC,OAAOA,WAAW,CAACD,GAAG,KAAK,WAAW,EAAE;YACxCL,0BAA0B,GAAGM,WAAW,CAACD,GAAG,EAAE;UAChD;UACAJ,mBAAmB,GAAG,KAAK;QAC7B;MACF,CAAC;IAT8B,CAS9B;IACDM,eAAe,EAAE,SAAAA,CAACC,EAAiB;UAAhBD,eAAA,GAAAC,EAAA,CAAAD,eAAe;MAAM,iBAACE,CAAuB;QAC9D,IAAI,CAACF,eAAe,EAAE;UAAE;QAAQ;QAEhC,IAAIE,CAAC,CAACC,MAAM,KAAKD,CAAC,CAACE,aAAa,EAAE;UAChCJ,eAAe,CAACE,CAAC,CAAC;UAClB;QACF;QAEA;QACA;QACA,IAAIG,WAAW,GAAGb,eAAe;QACjC,IAAKU,CAAC,CAACI,SAAiB,GAAG,aAAa,IAAIb,0BAA0B,EAAE;UACtEY,WAAW,GAAGZ,0BAA0B;QAC1C;QACA,IAAKS,CAAC,CAACI,SAAiB,GAAGD,WAAW,IAAI,EAAE,EAAE;UAC5C;QACF;QAEAL,eAAe,CAACE,CAAC,CAAC;MACpB,CAAC;IAnBuC;GAoBzC;AACH,CAAC,CAAC,EACJf,kBAAkB,CAChB,UAACc,EAAQ,EAAEM,EAAuC;MAAhDC,MAAA,GAAAP,EAAA,CAAAO,MAAM;MAAIC,UAAA,GAAAF,EAAA,CAAAC,MAAkB;IAAEb,iBAAA,GAAAY,EAAA,CAAAZ,iBAAiB;EAC/C,IAAIa,MAAM,KAAKC,UAAU,EAAE;IACzBd,iBAAiB,EAAE;EACrB;AACF,CAAC,CAAC,EACJP,WAAW,CACT,UAACa,EAAyB;MAAxBL,uBAAA,GAAAK,EAAA,CAAAL,uBAAuB;EAAM,OAAAA,uBAAuB,EAAE;AAAzB,CAAyB,CACzD,EACDN,SAAS,CACP,iBAAiB,CAClB,CACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}