{"ast":null,"code":"import { withHandlers, isolate, onWillReceiveProps, onDidUpdate, onWillUnmount } from \"reassemble\";\nexport var timeoutMultiplier = 3;\nexport var withTimeout = isolate(withHandlers(function () {\n  var timeoutID;\n  return {\n    timeoutIn: function (_a) {\n      var timeout = _a.timeout;\n      return function (ms) {\n        return timeoutID = setTimeout(timeout, ms);\n      };\n    },\n    cancel: function () {\n      return function () {\n        return clearTimeout(timeoutID);\n      };\n    }\n  };\n}), onWillReceiveProps(function (_a, _b) {\n  var inTransition = _a.transitionState.inTransition,\n    active = _a.active;\n  var nextInTransition = _b.transitionState.inTransition,\n    cancel = _b.cancel,\n    nextActive = _b.active;\n  var inTransitionChanged = inTransition !== nextInTransition;\n  var interrupted = nextInTransition && active !== nextActive;\n  if (inTransitionChanged || interrupted) {\n    cancel();\n  }\n}), onDidUpdate(function (_a, _b) {\n  var inTransition = _a.transitionState.inTransition,\n    active = _a.active;\n  var nextInTransition = _b.transitionState.inTransition,\n    totalDuration = _b.transitionInfo.totalDuration,\n    timeoutIn = _b.timeoutIn,\n    nextActive = _b.active;\n  var newTransition = !inTransition && nextInTransition;\n  var interrupted = nextInTransition && active !== nextActive;\n  if (newTransition || interrupted) {\n    if (nextInTransition) {\n      timeoutIn(totalDuration * timeoutMultiplier);\n    }\n  }\n}), onWillUnmount(function (_a) {\n  var cancel = _a.cancel;\n  return cancel();\n}));","map":{"version":3,"names":["withHandlers","isolate","onWillReceiveProps","onDidUpdate","onWillUnmount","timeoutMultiplier","withTimeout","timeoutID","timeoutIn","_a","timeout","ms","setTimeout","cancel","clearTimeout","_b","inTransition","transitionState","active","nextInTransition","nextActive","inTransitionChanged","interrupted","totalDuration","transitionInfo","newTransition"],"sources":["/Users/sumeetpravinjumde/Documents/Work/Coding/Ginger/Frontend/node_modules/react-css-transition/lib/composables/composables/withTimeout.ts"],"sourcesContent":["import { withHandlers, isolate, onWillReceiveProps, onDidUpdate, onWillUnmount } from \"reassemble\";\n\nimport { CSSTransitionProps } from \"../csstransition\";\nimport { WithTransitionStateProps } from \"./withTransitionState\";\nimport { WithTransitionInfoProps } from \"./withTransitionInfo\";\n\nexport const timeoutMultiplier = 3;\n\ntype PropsOut = {\n  cancel: () => void,\n  timeoutIn: (ms: number) => void,\n};\n\ntype PropsUnion =\n  CSSTransitionProps\n  & WithTransitionStateProps\n  & WithTransitionInfoProps\n  & PropsOut;\n\nexport const withTimeout =\n  isolate(\n    withHandlers<PropsUnion, PropsOut>(\n      () => {\n        let timeoutID: any;\n        return {\n          timeoutIn: ({timeout}) => (ms: number) => timeoutID = setTimeout(timeout, ms),\n          cancel: () => () => clearTimeout(timeoutID),\n        };\n      }),\n    onWillReceiveProps<PropsUnion>(\n      (\n        {transitionState: {inTransition}, active},\n        {\n          transitionState: {inTransition: nextInTransition},\n          cancel, active: nextActive,\n        },\n      ) => {\n        const inTransitionChanged = inTransition !== nextInTransition;\n        const interrupted = nextInTransition && active !== nextActive;\n        if (inTransitionChanged || interrupted) {\n          cancel();\n        }\n      }),\n    onDidUpdate<PropsUnion>(\n      (\n        {transitionState: {inTransition}, active},\n        {\n          transitionState: {inTransition: nextInTransition},\n          transitionInfo: {totalDuration},\n          timeoutIn, active: nextActive,\n        },\n      ) => {\n        const newTransition = !inTransition && nextInTransition;\n        const interrupted = nextInTransition && active !== nextActive;\n        if (newTransition || interrupted) {\n          if (nextInTransition) {\n            timeoutIn(totalDuration * timeoutMultiplier);\n          }\n        }\n      }),\n    onWillUnmount<PropsUnion>(({ cancel }) => cancel()),\n  );\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,OAAO,EAAEC,kBAAkB,EAAEC,WAAW,EAAEC,aAAa,QAAQ,YAAY;AAMlG,OAAO,IAAMC,iBAAiB,GAAG,CAAC;AAalC,OAAO,IAAMC,WAAW,GACtBL,OAAO,CACLD,YAAY,CACV;EACE,IAAIO,SAAc;EAClB,OAAO;IACLC,SAAS,EAAE,SAAAA,CAACC,EAAS;UAARC,OAAA,GAAAD,EAAA,CAAAC,OAAO;MAAM,iBAACC,EAAU;QAAK,OAAAJ,SAAS,GAAGK,UAAU,CAACF,OAAO,EAAEC,EAAE,CAAC;MAAnC,CAAmC;IAAnD,CAAmD;IAC7EE,MAAM,EAAE,SAAAA,CAAA;MAAM;QAAM,OAAAC,YAAY,CAACP,SAAS,CAAC;MAAvB,CAAuB;IAA7B;GACf;AACH,CAAC,CAAC,EACJL,kBAAkB,CAChB,UACEO,EAAyC,EACzCM,EAGC;MAJkBC,YAAA,GAAAP,EAAA,CAAAQ,eAAA,CAAAD,YAAY;IAAGE,MAAA,GAAAT,EAAA,CAAAS,MAAM;MAEpBC,gBAAA,GAAAJ,EAAA,CAAAE,eAAA,CAAAD,YAA8B;IAChDH,MAAA,GAAAE,EAAA,CAAAF,MAAM;IAAEO,UAAA,GAAAL,EAAA,CAAAG,MAAkB;EAG5B,IAAMG,mBAAmB,GAAGL,YAAY,KAAKG,gBAAgB;EAC7D,IAAMG,WAAW,GAAGH,gBAAgB,IAAID,MAAM,KAAKE,UAAU;EAC7D,IAAIC,mBAAmB,IAAIC,WAAW,EAAE;IACtCT,MAAM,EAAE;EACV;AACF,CAAC,CAAC,EACJV,WAAW,CACT,UACEM,EAAyC,EACzCM,EAIC;MALkBC,YAAA,GAAAP,EAAA,CAAAQ,eAAA,CAAAD,YAAY;IAAGE,MAAA,GAAAT,EAAA,CAAAS,MAAM;MAEpBC,gBAAA,GAAAJ,EAAA,CAAAE,eAAA,CAAAD,YAA8B;IAC/BO,aAAA,GAAAR,EAAA,CAAAS,cAAA,CAAAD,aAAa;IAC9Bf,SAAA,GAAAO,EAAA,CAAAP,SAAS;IAAEY,UAAA,GAAAL,EAAA,CAAAG,MAAkB;EAG/B,IAAMO,aAAa,GAAG,CAACT,YAAY,IAAIG,gBAAgB;EACvD,IAAMG,WAAW,GAAGH,gBAAgB,IAAID,MAAM,KAAKE,UAAU;EAC7D,IAAIK,aAAa,IAAIH,WAAW,EAAE;IAChC,IAAIH,gBAAgB,EAAE;MACpBX,SAAS,CAACe,aAAa,GAAGlB,iBAAiB,CAAC;IAC9C;EACF;AACF,CAAC,CAAC,EACJD,aAAa,CAAa,UAACK,EAAU;MAARI,MAAA,GAAAJ,EAAA,CAAAI,MAAM;EAAO,OAAAA,MAAM,EAAE;AAAR,CAAQ,CAAC,CACpD"},"metadata":{},"sourceType":"module","externalDependencies":[]}