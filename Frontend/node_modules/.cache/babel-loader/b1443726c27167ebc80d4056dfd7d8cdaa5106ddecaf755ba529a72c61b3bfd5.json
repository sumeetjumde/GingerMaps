{"ast":null,"code":"import { withProps, withHandlers, isolate, integrate } from \"reassemble\";\nimport { parseTransition } from \"../utils/parseTransition\";\nimport { parseComputedTransition } from \"../utils/parseComputedTransition\";\nimport { memoize } from \"../utils/memoize\";\nexport var withTransitionInfo = isolate(withHandlers(function () {\n  var memoized = memoize(function (node) {\n    return parseComputedTransition(getComputedStyle(node));\n  }, function (node) {\n    return node.className;\n  });\n  return {\n    parseComputedTransitionMemoized: function () {\n      return memoized;\n    }\n  };\n}), withProps(function (_a) {\n  var style = _a.style,\n    className = _a.className,\n    transitionState = _a.transitionState,\n    getDOMNode = _a.getDOMNode,\n    parseComputedTransitionMemoized = _a.parseComputedTransitionMemoized;\n  if (transitionState.inTransition) {\n    var parsed = void 0;\n    if (style && style.transition) {\n      parsed = parseTransition(style.transition);\n    } else {\n      var node = getDOMNode();\n      node.className = className;\n      parsed = parseComputedTransitionMemoized(node);\n    }\n    var first = parsed[0],\n      last = parsed[1];\n    return {\n      transitionInfo: {\n        firstPropertyDelay: first.delay,\n        firstProperty: first.property,\n        lastProperty: last.property,\n        totalDuration: last.duration + last.delay\n      }\n    };\n  }\n  return {\n    transitionInfo: {}\n  };\n}), integrate(\"transitionInfo\"));","map":{"version":3,"names":["withProps","withHandlers","isolate","integrate","parseTransition","parseComputedTransition","memoize","withTransitionInfo","memoized","node","getComputedStyle","className","parseComputedTransitionMemoized","_a","style","transitionState","getDOMNode","inTransition","parsed","transition","first","last","transitionInfo","firstPropertyDelay","delay","firstProperty","property","lastProperty","totalDuration","duration"],"sources":["/Users/sumeetpravinjumde/Documents/Work/Coding/Ginger/Frontend/node_modules/react-css-transition/lib/composables/composables/withTransitionInfo.ts"],"sourcesContent":["import { withProps, withHandlers, isolate, integrate } from \"reassemble\";\n\nimport { CSSTransitionProps } from \"../csstransition\";\nimport { WithDOMNodeCallbackProps } from \"./withDOMNodeCallback\";\nimport { WithTransitionStateProps } from \"./withTransitionState\";\nimport { parseTransition, TransitionEntry } from \"../utils/parseTransition\";\nimport { parseComputedTransition } from \"../utils/parseComputedTransition\";\nimport { memoize } from \"../utils/memoize\";\n\nexport type WithTransitionInfoProps = {\n  transitionInfo?: {\n    firstPropertyDelay: number,\n    firstProperty: string,\n    lastProperty: string,\n    totalDuration: number,\n  },\n};\n\ntype PropsOut = WithTransitionInfoProps & {\n  parseComputedTransitionMemoized?: typeof parseComputedTransition,\n};\n\ntype PropsUnion = CSSTransitionProps\n  & WithDOMNodeCallbackProps\n  & WithTransitionStateProps\n  & PropsOut;\n\nexport const withTransitionInfo =\n  isolate(\n    withHandlers<PropsUnion, PropsOut>(\n      () => {\n        const memoized = memoize(\n          (node: Element) => parseComputedTransition(getComputedStyle(node)),\n          (node: Element) => node.className,\n        );\n        return {\n          parseComputedTransitionMemoized: () => memoized,\n        };\n      }),\n    withProps<PropsUnion, PropsOut>(\n      ({style, className, transitionState, getDOMNode, parseComputedTransitionMemoized}) => {\n        if (transitionState.inTransition) {\n          let parsed: [TransitionEntry, TransitionEntry];\n          if (style && style.transition) {\n            parsed = parseTransition(style.transition);\n          } else {\n            const node = getDOMNode();\n            node.className = className;\n            parsed = parseComputedTransitionMemoized(node);\n          }\n          const [first, last] = parsed;\n          return {\n            transitionInfo: {\n              firstPropertyDelay: first.delay,\n              firstProperty: first.property,\n              lastProperty: last.property,\n              totalDuration: last.duration + last.delay,\n            },\n          };\n        }\n        return { transitionInfo: {} };\n      }),\n    integrate<keyof WithTransitionInfoProps>(\n      \"transitionInfo\",\n    ),\n  );\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,YAAY,EAAEC,OAAO,EAAEC,SAAS,QAAQ,YAAY;AAKxE,SAASC,eAAe,QAAyB,0BAA0B;AAC3E,SAASC,uBAAuB,QAAQ,kCAAkC;AAC1E,SAASC,OAAO,QAAQ,kBAAkB;AAoB1C,OAAO,IAAMC,kBAAkB,GAC7BL,OAAO,CACLD,YAAY,CACV;EACE,IAAMO,QAAQ,GAAGF,OAAO,CACtB,UAACG,IAAa;IAAK,OAAAJ,uBAAuB,CAACK,gBAAgB,CAACD,IAAI,CAAC,CAAC;EAA/C,CAA+C,EAClE,UAACA,IAAa;IAAK,OAAAA,IAAI,CAACE,SAAS;EAAd,CAAc,CAClC;EACD,OAAO;IACLC,+BAA+B,EAAE,SAAAA,CAAA;MAAM,OAAAJ,QAAQ;IAAR;GACxC;AACH,CAAC,CAAC,EACJR,SAAS,CACP,UAACa,EAAgF;MAA/EC,KAAA,GAAAD,EAAA,CAAAC,KAAK;IAAEH,SAAA,GAAAE,EAAA,CAAAF,SAAS;IAAEI,eAAA,GAAAF,EAAA,CAAAE,eAAe;IAAEC,UAAA,GAAAH,EAAA,CAAAG,UAAU;IAAEJ,+BAAA,GAAAC,EAAA,CAAAD,+BAA+B;EAC9E,IAAIG,eAAe,CAACE,YAAY,EAAE;IAChC,IAAIC,MAAM,SAAoC;IAC9C,IAAIJ,KAAK,IAAIA,KAAK,CAACK,UAAU,EAAE;MAC7BD,MAAM,GAAGd,eAAe,CAACU,KAAK,CAACK,UAAU,CAAC;IAC5C,CAAC,MAAM;MACL,IAAMV,IAAI,GAAGO,UAAU,EAAE;MACzBP,IAAI,CAACE,SAAS,GAAGA,SAAS;MAC1BO,MAAM,GAAGN,+BAA+B,CAACH,IAAI,CAAC;IAChD;IACO,IAAAW,KAAA,GAAAF,MAAA,GAAK;MAAEG,IAAA,GAAAH,MAAA,GAAI;IAClB,OAAO;MACLI,cAAc,EAAE;QACdC,kBAAkB,EAAEH,KAAK,CAACI,KAAK;QAC/BC,aAAa,EAAEL,KAAK,CAACM,QAAQ;QAC7BC,YAAY,EAAEN,IAAI,CAACK,QAAQ;QAC3BE,aAAa,EAAEP,IAAI,CAACQ,QAAQ,GAAGR,IAAI,CAACG;;KAEvC;EACH;EACA,OAAO;IAAEF,cAAc,EAAE;EAAE,CAAE;AAC/B,CAAC,CAAC,EACJnB,SAAS,CACP,gBAAgB,CACjB,CACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}